<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <!-- CSS y Bootstrap -->
  <link rel="stylesheet" href="../css/estilos.css">
  <link rel="stylesheet" href="../css/bootstrap.min.css">
  <script src="../js/bootstrap.min.js"></script>

  <!-- Iconos -->
  <link rel="icon" href="../img/logo.png">
    <link rel="apple-touch-icon" href="../img/logo.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

  <title>Registro/Ubicación</title>
    <meta name="keywords" content="guitarras, Gibson, Fender, venta">
    <meta name="description" content="Guitar Shop es una de las mayores tiendas a nivel mundial, ofrece desde guitarras de precios accesibles hasta artículos de colección">
    <meta name="author" content="Gerardo Javier Avila">
</head>
<body>

<header class="navegacion">
        <nav class="navbar navbar-expand-sm bg-dark navbar-dark  fixed-top text-uppercase pt-4">
          <div class="container-fluid">
            <a class="navbar-brand" href="#">
              <img class="logo" src="../img/roja.png" alt="Guitarra Roja">
            </a>

            <h1>Guitar Shop</h1>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
              <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
              <ul class="navbar-nav">
                     <li class="nav-item">
              <a class="nav-link text-reset boton rounded-circle" href=".././index.html"><span class="bi bi-headphones"></span> Inicio</a>
              </li>
      
                <li class="nav-item dropdown">
                <a class="nav-link text-reset boton rounded-circle" href="#"data-bs-toggle="dropdown"><span class="bi bi-music-player-fill"></span> Guitarras</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="guitarraselectricas.html">Eléctricas</a></li>
                  <li><a class="dropdown-item" href="guitarrasacusticas.html">Acústicas</a></li>
                </ul>
                </li>
                <li class="nav-item">
                <a class="nav-link text-reset boton rounded-circle" href="guitarristas.html"><span class="bi bi-image-fill"></span> Guitarristas</a>
              </li>
                <li class="nav-item">
                <a class="nav-link text-reset boton rounded-circle" href="historia.html"><span class="bi bi-map-fill"></span> Historia</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-reset boton rounded-circle" href="sesion.html"><span class="bi bi-person-plus-fill"></span> Sesión</a>
              </li>

              <li class="nav-item">
                <a class="nav-link text-reset boton rounded-circle" href="registro.html"><span class="bi bi-info-circle-fill"></span> Registro/Ubicación</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-reset boton rounded-circle" href="ofertas.html"><span class="bi bi-speaker-fill"></span> ¡Ofertas!</a>
              </li>
              </ul>
            </div>
          </div>
        </nav>
    </header>

<body>
    <br>
 <center>
<form  method="POST">
    <div class="col-md-4">
        <label><b>Nombre del usuario:</b></label><input type="text" name="usuario"class="form-control">
    </div>
    <br>
    <div class="col-md-4">
        <label><b>Contraseña:</b></label><input type="password" name="contraseña" class="form-control">
    </div>
    <br>
    <div class="col-md-4">
        <br><input type="submit" value="Agregar" class="boton agregar">
    </div>
</form>
 
<table id="listado" class='hide'>
    <thead>
        <th>Nombre del usuario</th>
        <th>Contraseña</th>
    </thead>
    <tbody>
    </tbody>
</table>
 </center>
 <br>
 <br>
 <br>
        <center>
          <h2>Nuestra Ubicación</h2>
        <div class="google-maps">
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2482.4248513434086!2d-0.1585557!3d51.523767!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x48761acf33628211%3A0x445d7677a88322e1!2s221B%20Baker%20St%2C%20London%20NW1%206XE%2C%20Reino%20Unido!5e0!3m2!1ses-419!2smx!4v1670431806878!5m2!1ses-419!2smx" width="600" height="450" style="border:0;" allowfullscreen=""  referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
        </center>

<br>
<section class="section-padding">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 col-12 text-center nx-auto">
      </div>
      <center>
        <h2 class="mb-5">¡Visita nuestra Tienda!</h2>
      <div class="col-lg-9 col-md-6 col-12 mb-4 mb-lg-0">
        <div class="forma-block d-flex justify-content-center align-items-center">
        <a href="guitarrasacusticas.html" class="d-block">
          <img src="../img/36.jpg" class="forma-block-img img-fluid" alt="fender">
          <p class="forma-block-text"><strong>Clásico</strong></p>
          <div class="forma-block d-flex justify-content-center align-items-center">
        <a href="guitarraselectricas.html" class="d-block">
          <img src="../img/32.jpg" class="forma-block-img img-fluid" alt="gibson">
          <p class="forma-block-text"><strong>Moderno</strong></p>
          <div class="forma-block d-flex justify-content-center align-items-center">
        <a href="sesion.html" class="d-block">
          <img src="../img/37.jpg" class="forma-block-img img-fluid" alt="jackson">
          <p class="forma-block-text"><strong>Inicia Sesión</strong></p>
          </center>
          </a>
      </div>
    </div>
  </div>
</div>
</section>

<br>
<div class="footer">
      <div class="grupo-1">
        <div class="box">
          <p><b>Las Lajas 109, La Morena, Estado de México</b></p>
          <p><b>gja1100223@hotmail.com</b></p>
          <p><b>7719431670</b></p>
        </div>
      <div class="box">
          <small>&copy; 2023 <b>Guitar Shop</b> - Todos los Derechos Reservados.</small>
        </div>
        <div class="box">
          <p><b>Nuestras Redes Sociales</b></p>
          <a href="https://www.facebook.com/GibsonES"target="_blank"><img src="../img/facelogo.png" alt="Facebook Gibson"></img></a>
          <a href="https://twitter.com/Fender"target="_blank"><img src="../img/twitlogo.png" alt="@Fender"></img></a>
          <a href="https://www.twitch.tv/" target="_blank"><img src="../img/twitchlogo.png" alt="Twitch"></img></a>

        </div>

            </div>
        </div>
        <center>
        
        </center>
    </div>
</body>
</html>
 
<script>
// Evento que se ejecuta al pulsar el botón agregar
document.querySelector("input[type=submit]").addEventListener("click",function(e){
    // cancelamos el evento
    e.preventDefault();
 
    const usuario=document.querySelector("input[name=usuario]");
    const contraseña=document.querySelector("input[name=contraseña]");
 
    // mostramos un error si no ha recibido el usuario
    if (!usuario.value) {
        usuario.classList.add("error");
        return;
    }
    usuario.classList.remove("error");
 
    // mostramos un error si no ha recibido una contraseña
    if (!contraseña.value) {
        contraseña.classList.add("error");
        return;
    }
    contraseña.classList.remove("error");
 
    agregarFila(usuario.value, contraseña.value);
    agregarInput(usuario.value, contraseña.value);
 
    //limpiamos los valores del input
    contraseña.value="";
    usuario.value="";
    usuario.focus();
 
});
 
// Evento que se ejecuta cuando se pulsa sobre el botón enviar
document.querySelector(".enviar").addEventListener("click", function(e) {
    this.closest("form").submit();
})
 
/**
 * Funcion para añadir el usuario y la contraseña en la tabla
 *
 * @param string usuario
 * @param string contraseña
 */
function agregarFila(usuario, contraseña) {
    // añadimos el alumno a la tabla crando el tr, td's y el botón para eliminarlo
    const tr=document.createElement("tr");
 
    const tdusuario=document.createElement("td");
    let txt=document.createTextNode(usuario);
    tdusuario.appendChild(txt);
    tdusuario.className="usuario";
 
    const tdcontraseña=document.createElement("td");
    txt=document.createTextNode(contraseña);
    tdcontraseña.appendChild(txt);
    tdcontraseña.className="contraseña";
 
    const tdRemove=document.createElement("td");
    const buttonRemove=document.createElement("img");
    buttonRemove.src="../img/bote.png";
    buttonRemove.onclick=eliminarFila;
    tdRemove.appendChild(buttonRemove);
 
    tr.appendChild(tdusuario);
    tr.appendChild(tdcontraseña);
    tr.appendChild(tdRemove);
 
    const tbody=document.getElementById("listado").querySelector("tbody").appendChild(tr);
 
    // eliminamos la clase que tiene oculta la tabla cando no hay ningun alumno
    document.getElementById("listado").classList.remove("hide");
}
 
/**
 * Funcion para eliminar el usuario de la tabla y llamar a la funcion
 * para eliminar al usuario del input oculto
 */
function eliminarFila(e) {
    const tr=this.closest("tr")
    const usuario=tr.querySelector(".usuario").innerText;
    const contraseña=tr.querySelector(".contraseña").innerText;
 
    eliminarInput(usuario, contraseña);
    tr.remove();
 
    // Si no hay ningun elemento en la lista, escondemos la tabla
    if (document.getElementById("listado").querySelector("tbody").querySelectorAll("tr").length==0) {
        document.getElementById("listado").classList.add("hide");
    }
}
 
/**
 * Funcion para crear un input oculto para cuando se envie el formulario
 * El usuario del input es un array de valores denominado "usuarios" que
 * contiene el usuario del alumno separado por un guion medio:
 *      juan-22
 *      manuel-19
 *
 * @param string usuario
 * @param string contraseña
 */
function agregarInput(usuario, contraseña) {
    const input=document.createElement("input");
    input.type="hidden";
    input.name="usuarios[]";
    input.value=usuario+"-"+contraseña;
 
    document.querySelector("form").appendChild(input);
}
 
/**
 * Funcion para eliminar el input oculto
 *
 * @param string usuario
 * @param string contraseña
 */
function eliminarInput(usuario, contraseña) {
    const input=document.querySelector("input[type=hidden][value="+usuario+"-"+contraseña+"]");
    input.remove();
}
</script>